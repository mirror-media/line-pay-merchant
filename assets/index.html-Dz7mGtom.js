import{_ as t,c as l,a as e,b as s,d as a,e as i,f as o,r,o as c}from"./app-Dmg8qoQ-.js";const u={};function d(k,n){const p=r("RouteLink");return c(),l("div",null,[n[7]||(n[7]=e('<h1 id="line-pay-merchant" tabindex="-1"><a class="header-anchor" href="#line-pay-merchant"><span>line-pay-merchant</span></a></h1><p><img src="https://img.shields.io/npm/l/line-pay-merchant" alt="NPM"><img src="https://img.shields.io/github/workflow/status/mirror-media/line-pay-merchant/ci/main" alt="GitHub Workflow Status (branch)"><img src="https://codecov.io/gh/mirror-media/line-pay-merchant/branch/main/graph/badge.svg" alt="codecov"><img src="https://img.shields.io/github/languages/code-size/mirror-media/line-pay-merchant" alt="GitHub code size in bytes"><img src="https://img.shields.io/npm/dt/@mirrormedia/line-pay-merchant" alt="npm"><img src="https://img.shields.io/npm/v/@mirrormedia/line-pay-merchant" alt="npm"></p><p>LINE Pay V3 Online APIs library for Node.js</p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>LINE Pay Merchant is a JavaScript library for integrating LINE Pay Online APIs. The goal of this library is to help developers build reliable <a href="https://pay.line.me" target="_blank" rel="noopener noreferrer">LINE Pay</a> applications. It handles tedious jobs to help developers focus on business logic and ideas that produce value.</p><p>This library implements HTTP API calls and generates authentication headers automatically; provides <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a> type definitions of LINE Pay API requests and responses, which can be helpful in finding errors at compile time; and provides built-in handlers to deal with exceptions, including API timeouts and duplicate transaction requests. For added flexibility, users can define custom request/response handlers.</p><h2 id="features" tabindex="-1"><a class="header-anchor" href="#features"><span>Features</span></a></h2>',7)),s("ul",null,[n[3]||(n[3]=s("li",null,"Auto-generated LINE Pay API V3 authentication header",-1)),n[4]||(n[4]=s("li",null,[a("Built-in API request and response "),s("a",{href:"./guide/handlers"},"handler")],-1)),n[5]||(n[5]=s("li",null,[a("Fully customizable API request and response "),s("a",{href:"./guide/handlers"},"handler")],-1)),n[6]||(n[6]=s("li",null,[s("a",{href:"http://typescript.net/",target:"_blank",rel:"noopener noreferrer"},"TypeScript"),a(" support")],-1)),s("li",null,[n[1]||(n[1]=a("Handles transaction ID parsing (see ")),i(p,{to:"/guide/further-details.html#transaction-id"},{default:o(()=>n[0]||(n[0]=[a("Transaction ID")])),_:1}),n[2]||(n[2]=a(")"))])]),n[8]||(n[8]=e(`<h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation"><span>Installation</span></a></h2><p>You can install the package from <a href="https://www.npmjs.com/package/line-pay-merchant" target="_blank" rel="noopener noreferrer">NPM</a> with the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> line-pay-merchant</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start"><span>Quick Start</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createLinePayClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;line-pay-merchant&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> linePayClient <span class="token operator">=</span> <span class="token function">createLinePayClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">channelId</span><span class="token operator">:</span> <span class="token string">&#39;1479113123&#39;</span><span class="token punctuation">,</span> <span class="token comment">// channel ID</span></span>
<span class="line">  <span class="token literal-property property">channelSecretKey</span><span class="token operator">:</span> <span class="token string">&#39;1f021e50f28fb3f40b7a9c5e758b0a19&#39;</span><span class="token punctuation">,</span> <span class="token comment">// channel secret key</span></span>
<span class="line">  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span> <span class="token comment">// env can be &#39;development&#39; or &#39;production&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sendRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> linePayClient<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">&#39;TWD&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">orderId</span><span class="token operator">:</span> <span class="token string">&#39;20211216003&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">packages</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">          <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;c99abc79-3b29-4f40-8851-bc618ca57856&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">              <span class="token punctuation">{</span></span>
<span class="line">                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Product Name&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token literal-property property">quantity</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">500</span></span>
<span class="line">              <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">]</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">redirectUrls</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token literal-property property">confirmUrl</span><span class="token operator">:</span> <span class="token string">&#39;https://myshop.com/confirmUrl&#39;</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token literal-property property">cancelUrl</span><span class="token operator">:</span> <span class="token string">&#39;https://myshop.com/cancelUrl&#39;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Response:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;returnCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;returnMessage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Success.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;paymentUrl&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;web&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://sandbox-web-pay.line.me/web/payment/wait?transactionReserveId=eVBISG5rQ09QL2JBVmJsdGdGN3RiUlBLaU0vMUtKWGEvVzhZS3o5NnBvSUlqZXdLdXk3Wlh0RXY2a0o3ZHp6Yw&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;app&quot;</span><span class="token operator">:</span> <span class="token string">&quot;line://pay/payment/eVBISG5rQ09QL2JBVmJsdGdGN3RiUlBLaU0vMUtKWGEvVzhZS3o5NnBvSUlqZXdLdXk3Wlh0RXY2a0o3ZHp6Yw&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;transactionId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021121600698709710&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;paymentAccessToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;656097936065&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;comments&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="changelog" tabindex="-1"><a class="header-anchor" href="#changelog"><span>Changelog</span></a></h2><p>Please visit <a href="https://github.com/mirror-media/line-pay-merchant/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Changelog</a>.</p><h2 id="license" tabindex="-1"><a class="header-anchor" href="#license"><span>License</span></a></h2><p><a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">MIT</a></p><p>Copyright (c) 2020-present, Sean Lin Copyright (c) 2024-present, MirrorMedia</p>`,12))])}const v=t(u,[["render",d],["__file","index.html.vue"]]),h=JSON.parse('{"path":"/","title":"line-pay-merchant","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"Features","slug":"features","link":"#features","children":[]},{"level":2,"title":"Installation","slug":"installation","link":"#installation","children":[]},{"level":2,"title":"Quick Start","slug":"quick-start","link":"#quick-start","children":[]},{"level":2,"title":"Changelog","slug":"changelog","link":"#changelog","children":[]},{"level":2,"title":"License","slug":"license","link":"#license","children":[]}],"git":{"updatedTime":1729671281000,"contributors":[{"name":"Sean Lin","email":"sean.enylin@gmail.com","commits":6},{"name":"Tsuki Akiba","email":"erase2004@gmail.com","commits":1}]},"filePathRelative":"README.md"}');export{v as comp,h as data};
